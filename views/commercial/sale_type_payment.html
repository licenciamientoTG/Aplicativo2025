{% extends "views/layouts/base.html" %}
{% block title %}Venta Por Rubro{% endblock %}
{% block mycss %}{% endblock %}
{% block menutitle %}Venta Por Rubro{% endblock %}
{% block content %}

<style>
    tr.group,
tr.group:hover {
    background-color: rgba(0, 0, 0, 0.1) !important;
}
 
:root.dark tr.group,
:root.dark tr.group:hover {
    background-color: rgba(0, 0, 0, 0.75) !important;
}


.column_estation{
    background-color: #add5e6 !important;
    color: white !important;
}
.total_bg{
    background-color: #48A1C7 !important;
    color: white !important;
}
.total_bg2{
    background-color:#48A1C7 !important;
    color: white !important;

}
#cardContainer, #comparativeContainer {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-around;
    width: 100%;
    margin: 0;
    padding: 5px;
}
.body_card{
    padding: 10px;
    box-sizing: border-box;

}
.card_group {
    width: 24%;
    border: 1px solid #a7d162;
    margin-bottom: 20px;
    /* Añadir márgenes laterale*/
    margin-left: 5px;
    margin-right: 5px;
    /* Asegurar que el padding interno no cause desbordamiento */
    box-sizing: border-box;
    padding: 10px;
}


@media (max-width: 1500px) {
    .card_group {
        width: 32%;
    }
}

@media (max-width: 1300px) {
    .card_group {
        width: 45%;
    }
}
/* Media query para pantallas más pequeñas */
@media (max-width: 992px) {
    .card_group {
        width: 40%;
    }
}

/* Para pantallas aún más pequeñas como móviles */
@media (max-width: 576px) {
    .card_group {
        width: 100%;
    }
}
.card-body.table-responsive {
    overflow-x: auto;
    width: 100%;
    padding: 15px;
}
</style>
<ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="sales_type_payment-tab" data-bs-toggle="tab" data-bs-target="#sales_type_payment" type="button" role="tab" aria-controls="sales_type_payment" aria-selected="true">Venta por Rubro - $</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link " id="sales_type_payment_totals-tab" data-bs-toggle="tab" data-bs-target="#sales_type_payment_totals" type="button" role="tab" aria-controls="sales_type_payment_totals" aria-selected="true">Venta por Rubro Totales</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link " id="mounth_group-tab" data-bs-toggle="tab" data-bs-target="#mounth_group" type="button" role="tab" aria-controls="mounth_group" aria-selected="true">Venta por Grupo Mensual</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link " id="mounth_company-tab" data-bs-toggle="tab" data-bs-target="#mounth_company" type="button" role="tab" aria-controls="mounth_company" aria-selected="true">Venta por Empresa Mensual</button>
    </li>
</ul>


<div class="tab-content">
    <div class="tab-pane active" id="sales_type_payment" role="tabpanel" aria-labelledby="sales_type_payment-tab">
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-2 ">
                        <label class="col-form-label-sm" for="">Desde: </label>
                        <input type="date"  class="form-control form-control-sm" name="from" id="from" value="{{  'now'|date('Y-m-d') }}" required>
                    </div>
                    <div class="col-2 ">
                        <label class="col-form-label-sm" for="">Hasta: </label>
                        <input type="date" class="form-control form-control-sm" name="until" value="{{ (until != false) ? until : 'now'|date('Y-m-d') }}" id="until" required>
                    </div>
                    <div class="col-2 ">
                        <label class="col-form-label-sm" for="">Zona </label>
                        <select class="form-control form-control-sm" name="zona" id="zona" required>
                            <option value="0">Todas</option>
                            <option value="ZONA 1">Zona 1</option>
                            <option value="ZONA 2">Zona 2</option>
                            <option value="ZONA 3">Zona 3</option>
                            <option value="ZONA 4 (Bajío)">Zona 4</option>
                        </select>
                    </div>
                    <div class="col-2 " >
                        <button id="seach_sales_type_payment" class="btn btn-sm btn-primary" style="width: 100%; margin-top: 15px;">Generar Reporte</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-header">
                <h5 class="card-title">Venta Por Rubro $</h5>
            </div>
        
            <div class="card-body table-responsive" id="cont">
                <div id="filtro-sales_type_payment_table" class="mb-1">
                    <div class="row">
                        <div class="col-2 p-1"><input type="text" class="form-control form-control-sm" style="margin-left: 3px" id="Empresa" placeholder="Empresa"></div>
                        <div class="col-2 p-1"><input type="text" class="form-control form-control-sm" style="margin-left: 3px" id="Zona" placeholder="Zona"></div>
                        <div class="col-2 p-1"><input type="text" class="form-control form-control-sm" style="margin-left: 3px" id="Estacion" placeholder="Estacion"></div>
                        <div class="col-2 p-1"><input type="text" class="form-control form-control-sm" style="margin-left: 3px" id="Descripcion" placeholder="Descripcion"></div>
                    </div>
                </div>
                <table id="sales_type_payment_table" class="table table-striped table-sm w-100" >
                    <thead id="sales_type_payment_table_head">
                       
                    </thead>
                    <tbody>
                    </tbody>
                    <tfoot>
                   
                    </tfoot>
                </table>
            </div>
        </div>

    </div>

    <div class="tab-pane " id="sales_type_payment_totals" role="tabpanel" aria-labelledby="sales_type_payment_totals-tab">
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-2 ">
                        <label class="col-form-label-sm" for="">Desde: </label>
                        <input type="date"  class="form-control form-control-sm" name="from2" id="from2" value="{{  'now'|date('Y-m-d') }}" required>
                    </div>
                    <div class="col-2 ">
                        <label class="col-form-label-sm" for="">Hasta: </label>
                        <input type="date" class="form-control form-control-sm" name="until2" id="until2" value="{{ (until != false) ? until : 'now'|date('Y-m-d') }}"  required>
                    </div>
                    <div class="col-2 ">
                        <label class="col-form-label-sm" for="">Zona </label>
                        <select class="form-control form-control-sm" name="zona2" id="zona2" required>
                            <option value="0">Todas</option>
                            <option value="ZONA 1">Zona 1</option>
                            <option value="ZONA 2">Zona 2</option>
                            <option value="ZONA 3">Zona 3</option>
                            <option value="ZONA 4 (Bajío)">Zona 4</option>
                        </select>
                    </div>
                    <div class="col-2 " >
                        <button id="seach_sales_type_payment_totals" class="btn btn-sm btn-primary" style="width: 100%; margin-top: 15px;">Generar Reporte</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-header">
                <h5 class="card-title">Venta Por Rubro Totales</h5>
            </div>
        
            <div class="card-body table-responsive" id="cont">
                <div id="filtro-sales_type_payment_totals_table" class="mb-1">
                    <div class="row">
                        <div class="col-2 p-1"><input type="text" class="form-control form-control-sm" style="margin-left: 3px" id="Empresa2" placeholder="Empresa"></div>
                        <div class="col-2 p-1"><input type="text" class="form-control form-control-sm" style="margin-left: 3px" id="Zona2" placeholder="Zona"></div>
                        <div class="col-2 p-1"><input type="text" class="form-control form-control-sm" style="margin-left: 3px" id="Estacion2" placeholder="Estacion"></div>
                        <div class="col-2 p-1"><input type="text" class="form-control form-control-sm" style="margin-left: 3px" id="Descripcion2" placeholder="Descripcion"></div>
                    </div>
                </div>
                <table id="sales_type_payment_totals_table" class="table table-striped table-sm w-100" >
                    <thead id="sales_type_payment_totals_table_head">
                       
                    </thead>
                    <tbody>
                    </tbody>
                    <tfoot>
                   
                    </tfoot>
                </table>
            </div>
        </div>

    </div>

    <div class="tab-pane " id="mounth_group" role="tabpanel" aria-labelledby="mounth_group-tab">
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-2 ">
                        <label class="col-form-label-sm" for="">Desde: </label>
                        <input type="date"  class="form-control form-control-sm" name="from3" id="from3" value="2025-01-01" required>
                    </div>
                    <div class="col-2 ">
                        <label class="col-form-label-sm" for="">Hasta: </label>
                        <input type="date" class="form-control form-control-sm" name="until3" value="{{ (until != false) ? until : 'now'|date('Y-m-d') }}" id="until3" required>
                    </div>
                    <div class="col-2 ">
                        <label class="col-form-label-sm" for="">Grupo </label>
                        <select class="form-control form-control-sm" name="grupo3" id="grupo3" required>
                            <option value="0">Todas</option>
                            <option value="Gasomex">Gasomex</option>
                            <option value="TG">TG</option>
                            <option value="SMA">SMA</option>
                            <option value="TSA">TSA</option>
                        </select>
                    </div>
                    <div class="col-2 " >
                        <button id="seach_mounth_group" class="btn btn-sm btn-primary" style="width: 100%; margin-top: 15px;">Generar Reporte</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-header">
                <h5 class="card-title">Venta Grupo Mensual</h5>
            </div>
            <div id="cardContainer" class="row"></div>

        
            <div class="card-body table-responsive" id="cont">
                <div id="filtro-mounth_group_table" class="mb-1">
                    <div class="row">
                        <div class="col-2 p-1"><input type="text" class="form-control form-control-sm" style="margin-left: 3px" id="Grupo3" placeholder="Grupo"></div>
                        <div class="col-2 p-1"><input type="text" class="form-control form-control-sm" style="margin-left: 3px" id="Empresa3" placeholder="Empresa"></div>
                        <div class="col-2 p-1"><input type="text" class="form-control form-control-sm" style="margin-left: 3px" id="Descripcion3" placeholder="Descripcion"></div>
                        <div class="col-2 p-1"><input type="text" class="form-control form-control-sm" style="margin-left: 3px" id="MedioPago3" placeholder="MedioPago"></div>
                    </div>
                </div>
                <table id="mounth_group_table" class="table table-striped table-sm w-100" >
                    <thead id="mounth_group_table_head">
                       
                    </thead>
                    <tbody>
                    </tbody>
                    <tfoot>
                   
                    </tfoot>
                </table>
            </div>
        </div>

    </div>
    <div class="tab-pane " id="mounth_company" role="tabpanel" aria-labelledby="mounth_company-tab">
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-2 ">
                        <label class="col-form-label-sm" for="">Desde: </label>
                        <input type="date"  class="form-control form-control-sm" name="from4" id="from4" value="2025-01-01" required>
                    </div>
                    <div class="col-2 ">
                        <label class="col-form-label-sm" for="">Hasta: </label>
                        <input type="date" class="form-control form-control-sm" name="until4" id="until4" value="{{ (until != false) ? until : 'now'|date('Y-m-d') }}"  required>
                    </div>
                    <div class="col-2 ">
                        <label class="col-form-label-sm" for="">Empresa </label>
                        <select class="form-control form-control-sm" name="company4" id="company4" required>
                            <option value="0">Todas</option>
                            {% for company in companys %}
                            <option value="{{ company.codemp }}">{{ company.den }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-2 " >
                        <button id="seach_mounth_company" class="btn btn-sm btn-primary" style="width: 100%; margin-top: 15px;">Generar Reporte</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-header">
                <h5 class="card-title">Venta Empresa Mensual</h5>
            </div>
            <div id="comparativeContainer" class="row"></div>


            <div class="card-body table-responsive" id="cont">
                <div id="filtro-mounth_company_table" class="mb-1">
                    <div class="row">
                        <div class="col-2 p-1"><input type="text" class="form-control form-control-sm" style="margin-left: 3px" id="Empresa4" placeholder="Empresa"></div>
                        <div class="col-2 p-1"><input type="text" class="form-control form-control-sm" style="margin-left: 3px" id="Descripcion4" placeholder="Descripcion"></div>
                        <div class="col-2 p-1"><input type="text" class="form-control form-control-sm" style="margin-left: 3px" id="MedioPago4" placeholder="MedioPago"></div>
                    </div>
                </div>
                <table id="mounth_company_table" class="table table-striped table-sm w-100" >
                    <thead id="mounth_company_table_head">
                    </thead>
                    <tbody>
                    </tbody>
                    <tfoot>
                    </tfoot>
                </table>
            </div>
        </div>

    </div>
</div>




{% endblock %}
{% block myjs %}
<script src="{{ JS }}commercial.js"></script>
<script>
$('#seach_sales_type_payment').on('click', function() {
    sales_type_payment_table();
});
$('#seach_sales_type_payment_totals').on('click', function() {
    sales_type_payment_totals_table();
});

$('#seach_mounth_group').on('click', function() {
    mounth_group_table();
});

$('#seach_mounth_company').on('click', function() {
    mounth_company_table();
});


</script>

</script>
{% endblock %}