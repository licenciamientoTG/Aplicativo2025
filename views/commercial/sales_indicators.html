{% extends "views/layouts/base.html" %}
{% block title %}Indicadores de Venta{% endblock %}
{% block mycss %}{% endblock %}
{% block menutitle %}Indicadores de Venta{% endblock %}
{% block content %}

<style>
    tr.group,
tr.group:hover {
    background-color: rgba(0, 0, 0, 0.1) !important;
}
 
:root.dark tr.group,
:root.dark tr.group:hover {
    background-color: rgba(0, 0, 0, 0.75) !important;
}
.text_negative{
    color: red !important;
}

.column_estation{
    /* border-color: #358f92 !important; */
    background-color: #a9dee0 !important;
    color: #296d70 !important;
}
.total_bg{
    background-color: #48A1C7 !important;
    color: white !important;
}
.total_bg2{
    background-color:#48A1C7 !important;
    color: white !important ;

}
.border_table{
    border: 1px solid #358f92 !important;
}
.border_left{
    border-bottom: 1px dotted  #358f92 !important;
    border-left: 2px solid #358f92 !important;
    border-right: 1px dotted  #358f92 !important;
}
.border_center{
    border-bottom: 1px dotted  #358f92 !important;
    border-left: 1px dotted #358f92 !important;
    border-right: 1px dotted  #358f92 !important;
}
.border_right{
    border-bottom: 1px dotted  #358f92 !important;
    border-left: 1px dotted #358f92 !important;
    border-right: 2px solid  #358f92 !important;
}
.style_heather{
    background-color: #42b5b8 !important;
    /* border-color: #358f92 !important; */
    color: #ffffff !important;
    /* border: 1px solid #358f92 !important; */
    vertical-align: text-top;
    /* border-bottom: 2px solid #dee2e6; */
    text-align: center !important;
}

</style>
<ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="sales_indicators-tab" data-bs-toggle="tab" data-bs-target="#sales_indicators" type="button" role="tab" aria-controls="sales_indicators" aria-selected="true">Venta vs Presupuesto</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link " id="sales_indicators_totals-tab" data-bs-toggle="tab" data-bs-target="#sales_indicators_totals" type="button" role="tab" aria-controls="sales_indicators_totals" aria-selected="true">Venta vs Presupuesto Totales</button>
    </li>
</ul>


<div class="tab-content">
    <div class="tab-pane active" id="sales_indicators" role="tabpanel" aria-labelledby="sales_indicators-tab">
        <div style="display: flex; flex-wrap: wrap; justify-content: space-between;" class="mistery_heather">

            <div class="card col-6">
                <div class="card-body">
                    <div class="row">
                        <div class="col-2 ">
                            <label class="col-form-label-sm" for="">Desde: </label>
                            <input type="date"  class="form-control form-control-sm" name="from" id="from" value="{{ 'first day of this month'|date('Y-m-d') }}" required>
                        </div>
                        <div class="col-2 ">
                            <label class="col-form-label-sm" for="">Hasta: </label>
                            <input type="date" class="form-control form-control-sm" name="until" value="{{ (until != false) ? until : 'now'|date('Y-m-d') }}" id="until" required>
                        </div>
                        <div class="col-2 ">
                            <label class="col-form-label-sm" for="">Zona </label>
                            <select class="form-control form-control-sm" name="zona" id="zona" required>
                                <option value="0">Todas</option>
                                <option value="ZONA 1">Zona 1</option>
                                <option value="ZONA 2">Zona 2</option>
                                <option value="ZONA 3">Zona 3</option>
                                <option value="ZONA 4 (Bajío)">Zona 4</option>
                            </select>
                        </div>
                        
                        <div class="col-2 " >
                            <button id="seach_sales_indicators" class="btn btn-sm btn-primary" style="width: 100%; margin-top: 15px;">Generar Reporte</button>
                        </div>
                    </div>
                </div>
            </div> 
            {% if authorized(63) %}
                <div class="card col-5">
                    <div class="card-body" style="display: flex;flex-direction: row;flex-wrap: nowrap;justify-content: center;align-items: center;padding: 5px;">
                        <div class="row" style="width: 100%;display: flex;flex-direction: row;flex-wrap: nowrap;align-items: flex-end;">
                            <div class="col-2" >
                                <button onclick="download_format_budget()" class="btn btn-sm btn-success" style="width: 100%; margin-top: auto;">Descargar Formato</button>
                            </div>
                            <div class="col ">
                                <label for="date_budget"> Fecha</label>
                                <input type="month" class="form-control " name="date_budget" id="date_budget"  required>
                            </div>
                            <div class="col ">
                                <label for="file_to_upload"> Archivo</label>
            
                                <input type="file" class="form-control " name="file_to_upload" id="file_to_upload" accept=".xls,.xlsx" required="">
                            </div>
                            <div class="col-2">
                                <button onclick="upload_file_budget()" class="btn btn-sm btn-primary" style="width: 100%;height: 100%; ">Guardar</button>
                            </div>
                        </div>
                    </div>
                </div>
            {% endif %}

        </div>
        <div class="card">
            <div class="card-header">
                <h5 class="card-title">Venta vs Presupuesto Lts</h5>
            </div>
        
            <div class="card-body table-responsive" id="cont">
                <div id="filtro-sales_indicators_table" class="mb-1">
                    <div class="row">
                        <div class="col-2 p-1"><input type="text" class="form-control form-control-sm" style="margin-left: 3px" id="Estacion" placeholder="Estacion"></div>
                        <div class="col-2 p-1"><select id="filtroProducto" class="form-select form-control form-control-sm">
                            <option value="">Todos los productos</option>
                            <option value="Diesel Automotriz">Diesel Automotriz</option>
                            <option value="T-Maxima Regular">T-Maxima Regular</option>
                            <option value="T-Super Premium">T-Super Premium</option>
                        </select></div>
                    </div>
                </div>
                <table id="sales_indicators_table" class="table table-hover table-sm w-100" >
                    <thead >
                       
                    </thead>
                    <tbody>
                    </tbody>
                    <tfoot>
                   
                    </tfoot>
                </table>
            </div>
        </div>

    </div>

    <div class="tab-pane " id="sales_indicators_totals" role="tabpanel" aria-labelledby="sales_indicators_totals-tab">
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-2 ">
                        <label class="col-form-label-sm" for="">Desde: </label>
                        <input type="date"  class="form-control form-control-sm" name="from2" id="from2" value="{{ 'first day of this month'|date('Y-m-d') }}" required>
                    </div>
                    <div class="col-2 ">
                        <label class="col-form-label-sm" for="">Hasta: </label>
                        <input type="date" class="form-control form-control-sm" name="until2" id="until2" value="{{ (until != false) ? until : 'now'|date('Y-m-d') }}"  required>
                    </div>
                    <div class="col-2 ">
                        <label class="col-form-label-sm" for="">Zona </label>
                        <select class="form-control form-control-sm" name="zona2" id="zona2" required>
                            <option value="0">Todas</option>
                            <option value="ZONA 1">Zona 1</option>
                            <option value="ZONA 2">Zona 2</option>
                            <option value="ZONA 3">Zona 3</option>
                            <option value="ZONA 4 (Bajío)">Zona 4</option>
                        </select>
                    </div>
                    <div class="col-2 " >
                        <button id="seach_sales_indicators_totals" class="btn btn-sm btn-primary" style="width: 100%; margin-top: 15px;">Generar Reporte</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-header">
                <h5 class="card-title">Venta vs Presupuesto Totales</h5>
            </div>
        
            <div class="card-body table-responsive" id="cont">
                <div id="filtro-sales_indicators_totals_table" class="mb-1">
                    <div class="row">
                        <div class="col-2 p-1"><input type="text" class="form-control form-control-sm" style="margin-left: 3px" id="Estacion2" placeholder="Estacion"></div>
                        <div class="col-2 p-1"><select id="filtroProducto2" class="form-select form-control form-control-sm">
                            <option value="">Todos los productos</option>
                            <option value="Total">Total</option>
                            <option value="Diesel Automotriz">Diesel Automotriz</option>
                            <option value="T-Maxima Regular">T-Maxima Regular</option>
                            <option value="T-Super Premium">T-Super Premium</option>
                        </select></div>                    </div>
                </div>
                <table id="sales_indicators_totals_table" class="table table-striped table-sm w-100" >
                    <thead id="sales_indicators_totals_table_head">
                       
                    </thead>
                    <tbody>
                    </tbody>
                    <tfoot>
                   
                    </tfoot>
                </table>
            </div>
        </div>

    </div>
</div>




{% endblock %}
{% block myjs %}
<script src="{{ JS }}commercial.js"></script>
<script>
$('#seach_sales_indicators').on('click', function() {
    sales_indicators_table();
});
$('#seach_sales_indicators_totals').on('click', function() {
    sales_indicators_totals_table();
});


</script>

</script>
{% endblock %}