{% extends "views/layouts/base.html" %}
{% block title %}Operaciones{% endblock %}
{% block mycss %}{% endblock %}
{% block menutitle %}Reporte de ventas por estación{% endblock %}
{% block content %}

<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-12">
                        <form action="#" method="get">
                            <div class="row">
                                <div class="col">
                                    <label for="from" class="col-form-label col-form-label-sm">Fecha inicio: </label>
                                    <input type="date" class="form-control" name="from" id="from" value="{{ from }}">
                                </div>
                                <div class="col">
                                    <label for="until" class="col-form-label col-form-label-sm">Fecha final: </label>
                                    <input type="date" class="form-control" name="until" id="until" value="{{ until }}">
                                </div>
                                <div class="col">
                                    <label for="codgas" class="col-form-label col-form-label-sm">Estación: </label>
                                    <select class="selectpicker form-control" data-live-search="true" name="codgas" id="codgas" placeholder="Estación" required>
                                        {% for station in stations %}
                                        <option value="{{ station.cod }}" {{ (codgas == station.cod ? 'selected' : '' ) }}>{{ station.abr }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                <div class="col">
                                    <label for="codprd" class="col-form-label col-form-label-sm">Producto: </label>
                                    <select class="selectpicker form-control" data-live-search="true" name="codprd" placeholder="Combustible" required>
                                        <option value="0" {{ (codprd == 0 ? 'selected' : '' ) }}>Todos</option>
                                        <option value="179" {{ (codprd == 179 ? 'selected' : '' ) }}>T-Maxima Regular</option>
                                        <option value="180" {{ (codprd == 180 ? 'selected' : '' ) }}>T-Super Premium</option>
                                        <option value="181" {{ (codprd == 181 ? 'selected' : '' ) }}>Diesel Automotriz</option>
                                        <option value="192" {{ (codprd == 192 ? 'selected' : '' ) }}>Gasolina regular menor a 91 octanos	</option>
                                        <option value="193" {{ (codprd == 193 ? 'selected' : '' ) }}>Gasolina premium mayor o igual a 91 octanos	</option>
                                    </select>
                                </div>
                                <input type="hidden" value="{{ codprd }}" id="codprd">
                                <div class="col-3 d-flex flex-column justify-content-between">
                                    <div></div>
                                    <button type="submit" class="btn btn-primary btn-block w-100" id="download_info"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg> Generar reporte</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <div class="card table-responsive">
            <div class="card-header pb-0">
                <div class="card-actions float-end">
                    <div class="dropdown position-relative">
                        <a href="#" data-bs-toggle="dropdown" data-bs-display="static">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-horizontal align-middle">
                                <circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>
                            </svg>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end">
                            <a class="dropdown-item" href="javascript:void(0);" id="exportExcel"><i data-feather="file-text"></i> Exportar a Excel</a>
                            <a class="dropdown-item refresh_sales_stations_table" href="#"><i data-feather="refresh-ccw"></i> Actualizar</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <table class="table table-striped table-sm w-100" style="font-size: small;" id="sales_stations_table">
                    <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>Estación</th>
                        <th>Producto</th>
                        <th>Despachos</th>
                        <th>Volumen</th>
                        <th>Precio</th>
                        <th>Importe</th>
                        <th>Crédito</th>
                        <th>Débito</th>
                        <th class="w-10">Acciones</th>
                    </tr>
                    </thead>
                    <tbody>
                    </tbody>
                    <tfoot>
                    <tr>
                        <th>Fecha</th>
                        <th>Estación</th>
                        <th>Producto</th>
                        <th>Despachos</th>
                        <th>Volumen</th>
                        <th>Precio</th>
                        <th>Importe</th>
                        <th>Crédito</th>
                        <th>Débito</th>
                        <th class="w-10">Acciones</th>
                    </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block myjs %}
<script src="{{ JS }}operations.js"></script>
{% endblock %}